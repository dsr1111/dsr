<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="image/icon.webp" type="image/x-icon" />
    <title>DSR WIKI</title>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/styles1.css" />
    <script src="app/index.js" defer></script>
    <script src="app/nav.js" defer></script>
  </head>
  <body>
    <custom-nav></custom-nav>
    <script src="assets/js/main.js"></script>

    <div class="calendar-container">
      <div class="left-container">
        <div class="overflow">
          <p class="index-title">오버플로우</p>
        </div>

        <div class="crown">
          <p class="index-title">크라운-비트 환산</p>

          <div class="exchange-rate">
            <label for="exchange-rate"
              >100 크라운 :
              <input type="number" id="exchange-rate" value="60" />
              <span>만 비트</span></label
            >
          </div>

          <div class="conversion-input">
            <select id="currency-type">
              <option value="crown-to-bit">크라운 ➔ 비트</option>
              <option value="bit-to-crown">비트 ➔ 크라운</option>
            </select>

            <label for="currency-input"
              >금액 :
              <input type="number" id="currency-input" />
            </label>
          </div>

          <div class="result-display">
            <p>계산 값 : <span id="conversion-result">0</span></p>
          </div>
        </div>
      </div>
      <div id="calendar"></div>
      <div id="tooltip" class="custom-tooltip"></div>

      <div class="coupon-kakaopay-container">
        <div class="coupon">
          <p class="index-title">쿠폰</p>
          <div class="coupon-container"></div>
        </div>
      </div>
    </div>
    <a
      href="https://open.kakao.com/o/siUct6Yg"
      target="_blank"
      class="floating-chat-icon"
    >
      <img
        src="image\kakao.svg"
        alt="실시간 상담 아이콘"
        style="width: 40px; height: 40px"
      />
      <span class="tooltip-kakao">오류 제보 및 건의사항</span>
    </a>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
      import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyB687ow_NvAJxJdLaSfke6hOalFujAeJ50",
        authDomain: "dsr1-59d0e.firebaseapp.com",
        projectId: "dsr1-59d0e",
        storageBucket: "dsr1-59d0e.firebasestorage.app",
        messagingSenderId: "393673268086",
        appId: "1:393673268086:web:42409e7320c0ad4d99f857",
        measurementId: "G-V5VLCXSKM7"
      };

      // Firebase 초기화
      const app = initializeApp(firebaseConfig);
      const auth = getAuth();

      // 인증 상태 확인
      document.body.style.display = "hidden"; // 페이지 숨김
      onAuthStateChanged(auth, (user) => {
          if (!user) {
              window.location.href = 'index.html';
          } else {
              document.body.style.display = "visible"; // 인증된 사용자만 페이지 표시
          }
      });
  </script>
  </body>
</html>
